From 1a21fcaf86e2134d56b7f772f9c74ef19cba50d7 Mon Sep 17 00:00:00 2001
From: Giuseppe Scrivano <gscrivan@redhat.com>
Date: Tue, 20 May 2014 18:53:56 +0200
Subject: [PATCH] virt-manager: make update pool blocking

RHEL-only

Closes: https://bugzilla.redhat.com/show_bug.cgi?id=1091878
Signed-off-by: Giuseppe Scrivano <gscrivan@redhat.com>
---
 src/virtManager/host.py | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

diff --git a/src/virtManager/host.py b/src/virtManager/host.py
index 73bee95..a9c3df1 100644
--- a/src/virtManager/host.py
+++ b/src/virtManager/host.py
@@ -641,13 +641,8 @@ class vmmHost(vmmGObjectUI):
         if pool is None:
             return
 
-        def cb():
-            pool.refresh()
-            self.refresh_current_pool()
-
         logging.debug("Refresh pool '%s'" % pool.get_name())
-        vmmAsyncJob.simple_async_noshow(cb, [], self,
-                            _("Error refreshing pool '%s'") % pool.get_name())
+        self.refresh_current_pool()
 
     def delete_vol(self, src_ignore):
         vol = self.current_vol()
-- 
1.9.0

